'use strict';const a9_0x1f452f=a9_0x717c;(function(_0x4935e0,_0x406d55){const _0x386784=a9_0x717c,_0x3e06d5=_0x4935e0();while(!![]){try{const _0x449c02=parseInt(_0x386784(0x15d))/0x1*(-parseInt(_0x386784(0x159))/0x2)+-parseInt(_0x386784(0x151))/0x3*(-parseInt(_0x386784(0x152))/0x4)+-parseInt(_0x386784(0x170))/0x5+parseInt(_0x386784(0x172))/0x6*(parseInt(_0x386784(0x16c))/0x7)+parseInt(_0x386784(0x169))/0x8+-parseInt(_0x386784(0x142))/0x9*(parseInt(_0x386784(0x167))/0xa)+parseInt(_0x386784(0x158))/0xb;if(_0x449c02===_0x406d55)break;else _0x3e06d5['push'](_0x3e06d5['shift']());}catch(_0x491742){_0x3e06d5['push'](_0x3e06d5['shift']());}}}(a9_0x568b,0x65989));function a9_0x717c(_0x2ca22c,_0x3751e1){const _0x568b21=a9_0x568b();return a9_0x717c=function(_0x717c6d,_0x2557e0){_0x717c6d=_0x717c6d-0x13a;let _0xf798fe=_0x568b21[_0x717c6d];return _0xf798fe;},a9_0x717c(_0x2ca22c,_0x3751e1);}var __awaiter=this&&this['__awaiter']||function(_0x19f461,_0x4d8553,_0x3a3b34,_0x5a5f99){function _0x48ebfc(_0x4e845b){return _0x4e845b instanceof _0x3a3b34?_0x4e845b:new _0x3a3b34(function(_0x1dbe8f){_0x1dbe8f(_0x4e845b);});}return new(_0x3a3b34||(_0x3a3b34=Promise))(function(_0x5d67a2,_0x623817){const _0xdd1648=a9_0x717c;function _0x53b199(_0x2e996c){const _0x5bfc39=a9_0x717c;try{_0x1eb477(_0x5a5f99[_0x5bfc39(0x171)](_0x2e996c));}catch(_0x4e180a){_0x623817(_0x4e180a);}}function _0x2cf6d0(_0x5b03bc){const _0x40ce08=a9_0x717c;try{_0x1eb477(_0x5a5f99[_0x40ce08(0x16a)](_0x5b03bc));}catch(_0x277859){_0x623817(_0x277859);}}function _0x1eb477(_0x4c9255){const _0x11f971=a9_0x717c;_0x4c9255[_0x11f971(0x15a)]?_0x5d67a2(_0x4c9255[_0x11f971(0x15b)]):_0x48ebfc(_0x4c9255[_0x11f971(0x15b)])[_0x11f971(0x154)](_0x53b199,_0x2cf6d0);}_0x1eb477((_0x5a5f99=_0x5a5f99['apply'](_0x19f461,_0x4d8553||[]))[_0xdd1648(0x171)]());});},__importDefault=this&&this[a9_0x1f452f(0x15c)]||function(_0x3b88fa){const _0x4ea327=a9_0x1f452f;return _0x3b88fa&&_0x3b88fa[_0x4ea327(0x156)]?_0x3b88fa:{'default':_0x3b88fa};};Object[a9_0x1f452f(0x141)](exports,a9_0x1f452f(0x156),{'value':!![]}),exports[a9_0x1f452f(0x14f)]=void 0x0;const handlebars_1=__importDefault(require('handlebars')),boom_1=__importDefault(require(a9_0x1f452f(0x162))),puppeteer_1=__importDefault(require('puppeteer')),fs_1=require('fs'),config_1=require('../config'),uuid_1=require('uuid'),joi_1=__importDefault(require(a9_0x1f452f(0x150)));class ConverterService{constructor(){}[a9_0x1f452f(0x145)](_0x151274){const _0x20ad02=a9_0x1f452f;let {format:_0x19e0fb,width:_0x517f76,height:_0x1e7d11,margin:_0x36147a}=_0x151274;const _0xb5fef6=''+(0x0,uuid_1['v4'])();return{'config':{'path':ConverterService[_0x20ad02(0x14a)]+'/'+_0xb5fef6+'.'+ConverterService[_0x20ad02(0x13c)],'printBackground':!![],'format':_0x19e0fb,'width':_0x517f76,'height':_0x1e7d11,'margin':_0x36147a},'filename':_0xb5fef6};}['generateMetadata'](_0x436247){const _0x441e21=a9_0x1f452f;return{'url':config_1[_0x441e21(0x16e)]['host']+'/'+ConverterService[_0x441e21(0x155)]+'?file='+_0x436247,'filename':_0x436247};}[a9_0x1f452f(0x168)](_0xc66d6b){const _0xab6010=a9_0x1f452f,_0xae3bd5=Object[_0xab6010(0x16f)](_0xc66d6b!==null&&_0xc66d6b!==void 0x0?_0xc66d6b:{});for(let _0x1ebe89 of _0xae3bd5){const {error:_0x53d85a}=joi_1['default']['string']()[_0xab6010(0x14c)]('')[_0xab6010(0x15e)]()[_0xab6010(0x13d)](_0xc66d6b[_0x1ebe89]);if(_0x53d85a){_0x53d85a[_0xab6010(0x13f)]=_0x53d85a[_0xab6010(0x13f)][_0xab6010(0x163)](_0xab6010(0x15b),_0x1ebe89);throw boom_1['default'][_0xab6010(0x164)](_0x53d85a['message']);}const _0x48c86c=Buffer[_0xab6010(0x13e)](_0xc66d6b[_0x1ebe89],_0xab6010(0x15e))[_0xab6010(0x13b)](_0xab6010(0x146));_0xc66d6b[_0x1ebe89]=_0x48c86c;}return _0xc66d6b;}['convert'](_0x268d2f){var _0x32cebc;return __awaiter(this,void 0x0,void 0x0,function*(){const _0x4bf320=a9_0x717c;try{const _0x427c9c=Buffer[_0x4bf320(0x13e)](_0x268d2f[_0x4bf320(0x16b)],_0x4bf320(0x15e))[_0x4bf320(0x13b)]('utf8'),_0x564a6d=this['generateReplaceData']((_0x32cebc=_0x268d2f[_0x4bf320(0x163)])!==null&&_0x32cebc!==void 0x0?_0x32cebc:{});let _0x571c28=handlebars_1[_0x4bf320(0x160)]['compile'](_0x427c9c,{'strict':!![]})(_0x564a6d);const _0x55a694=yield puppeteer_1[_0x4bf320(0x160)][_0x4bf320(0x147)]({'headless':![],'args':[_0x4bf320(0x149),_0x4bf320(0x13a),_0x4bf320(0x15f)],'ignoreDefaultArgs':[_0x4bf320(0x157)]}),_0x87cb40=yield _0x55a694[_0x4bf320(0x143)]();yield _0x87cb40[_0x4bf320(0x161)](![]),yield _0x87cb40['setContent'](_0x571c28);const _0x3931c1=this[_0x4bf320(0x145)](_0x268d2f);return yield _0x87cb40[_0x4bf320(0x174)](_0x3931c1['config']),yield _0x55a694[_0x4bf320(0x14e)](),this[_0x4bf320(0x173)](_0x3931c1[_0x4bf320(0x14b)]);}catch(_0x4bf06e){throw boom_1[_0x4bf320(0x160)][_0x4bf320(0x164)](_0x4bf06e[_0x4bf320(0x13f)]);}});}[a9_0x1f452f(0x153)](_0xbe7f94){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x24ee80=a9_0x717c;try{_0xbe7f94=_0xbe7f94+'.'+ConverterService[_0x24ee80(0x13c)];const _0x2e7715=''+ConverterService['folder'],_0x5e255=yield fs_1['promises']['readdir'](_0x2e7715),_0x296cd1=_0x5e255[_0x24ee80(0x153)](_0x230676=>_0x230676===_0xbe7f94);if(!_0x296cd1)throw'';const _0x363b5b=_0x2e7715+'/'+_0xbe7f94,_0x257c1a=yield fs_1[_0x24ee80(0x14d)]['readFile'](_0x363b5b)[_0x24ee80(0x16d)](_0x1d84c8=>{throw'';});return fs_1[_0x24ee80(0x14d)][_0x24ee80(0x165)](_0x363b5b),_0x257c1a;}catch(_0x54ca48){throw boom_1[_0x24ee80(0x160)][_0x24ee80(0x144)](_0x24ee80(0x140));}});}}exports[a9_0x1f452f(0x14f)]=ConverterService,ConverterService['folder']=__dirname+a9_0x1f452f(0x148),ConverterService['route']=a9_0x1f452f(0x166),ConverterService[a9_0x1f452f(0x13c)]=a9_0x1f452f(0x174);function a9_0x568b(){const _0x315617=['promises','close','ConverterService','joi','21yOISKb','395908KXGLsv','find','then','route','__esModule','--disable-extensions','4110799qQRHLp','622RwuTUL','done','value','__importDefault','1396RWwJSe','base64','--disable-gpu','default','setJavaScriptEnabled','@hapi/boom','replace','badRequest','unlink','converter','90790yYaTEy','generateReplaceData','884160hrNKEb','throw','html','818678FHDmHo','catch','config','keys','2202550exSBpJ','next','24QZALAG','generateMetadata','pdf','--disable-setuid-sandbox','toString','extension','validate','from','message','File\x20not\x20found','defineProperty','351xJzZCT','newPage','notFound','generateDataCreate','utf8','launch','/../pdf','--no-sandbox','folder','filename','not'];a9_0x568b=function(){return _0x315617;};return a9_0x568b();}
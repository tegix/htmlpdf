'use strict';const a9_0x1eb080=a9_0x2a04;(function(_0x492f73,_0x4561bb){const _0x37b91a=a9_0x2a04,_0x41931b=_0x492f73();while(!![]){try{const _0x433ebb=parseInt(_0x37b91a(0xc3))/0x1+parseInt(_0x37b91a(0xa5))/0x2*(parseInt(_0x37b91a(0xb7))/0x3)+-parseInt(_0x37b91a(0xa8))/0x4+-parseInt(_0x37b91a(0x9d))/0x5*(parseInt(_0x37b91a(0x9f))/0x6)+-parseInt(_0x37b91a(0xc7))/0x7+parseInt(_0x37b91a(0x98))/0x8+parseInt(_0x37b91a(0xcd))/0x9*(parseInt(_0x37b91a(0xaa))/0xa);if(_0x433ebb===_0x4561bb)break;else _0x41931b['push'](_0x41931b['shift']());}catch(_0x475a0d){_0x41931b['push'](_0x41931b['shift']());}}}(a9_0x4b0e,0x44c9a));var __awaiter=this&&this[a9_0x1eb080(0xbb)]||function(_0x37f319,_0x32f0e0,_0x247e64,_0x563663){function _0x2c8fea(_0x28ed00){return _0x28ed00 instanceof _0x247e64?_0x28ed00:new _0x247e64(function(_0x282188){_0x282188(_0x28ed00);});}return new(_0x247e64||(_0x247e64=Promise))(function(_0x93cec3,_0x2af886){function _0x17c237(_0x2806bf){const _0x5a4604=a9_0x2a04;try{_0x5a2bdc(_0x563663[_0x5a4604(0xb8)](_0x2806bf));}catch(_0x15ecb4){_0x2af886(_0x15ecb4);}}function _0x3c593b(_0x3fec25){const _0x4a5475=a9_0x2a04;try{_0x5a2bdc(_0x563663[_0x4a5475(0xa4)](_0x3fec25));}catch(_0x21f34a){_0x2af886(_0x21f34a);}}function _0x5a2bdc(_0x146956){const _0x22ee9b=a9_0x2a04;_0x146956[_0x22ee9b(0x9c)]?_0x93cec3(_0x146956[_0x22ee9b(0xc9)]):_0x2c8fea(_0x146956[_0x22ee9b(0xc9)])[_0x22ee9b(0xca)](_0x17c237,_0x3c593b);}_0x5a2bdc((_0x563663=_0x563663['apply'](_0x37f319,_0x32f0e0||[]))['next']());});},__importDefault=this&&this[a9_0x1eb080(0xbe)]||function(_0x33c6af){return _0x33c6af&&_0x33c6af['__esModule']?_0x33c6af:{'default':_0x33c6af};};Object['defineProperty'](exports,a9_0x1eb080(0xb4),{'value':!![]}),exports[a9_0x1eb080(0xc6)]=void 0x0;const handlebars_1=__importDefault(require(a9_0x1eb080(0xb6))),boom_1=__importDefault(require('@hapi/boom')),puppeteer_1=__importDefault(require(a9_0x1eb080(0xc1))),fs_1=require('fs'),config_1=require(a9_0x1eb080(0xc0)),uuid_1=require(a9_0x1eb080(0xbf)),joi_1=__importDefault(require(a9_0x1eb080(0xaf)));class ConverterService{constructor(){}[a9_0x1eb080(0x9a)](_0xd5c1f6){let {format:_0x1a3585,width:_0x881fa9,height:_0x2678bb,margin:_0x23f59a}=_0xd5c1f6;const _0x36178d=''+(0x0,uuid_1['v4'])();return{'config':{'path':ConverterService['folder']+'/'+_0x36178d+'.'+ConverterService['extension'],'printBackground':!![],'format':_0x1a3585,'width':_0x881fa9,'height':_0x2678bb,'margin':_0x23f59a},'filename':_0x36178d};}[a9_0x1eb080(0x96)](_0x15f3ac){const _0x37687d=a9_0x1eb080;return{'url':config_1[_0x37687d(0xac)][_0x37687d(0x99)]+'/'+ConverterService['route']+_0x37687d(0x94)+_0x15f3ac,'filename':_0x15f3ac};}[a9_0x1eb080(0xa3)](_0x53ecb0){const _0x45f67d=a9_0x1eb080,_0x3323ab=Object[_0x45f67d(0xb3)](_0x53ecb0!==null&&_0x53ecb0!==void 0x0?_0x53ecb0:{});for(let _0x2cec4f of _0x3323ab){const {error:_0x5dc6e9}=joi_1[_0x45f67d(0xa0)][_0x45f67d(0xab)]()[_0x45f67d(0xb1)]('')[_0x45f67d(0xa6)]()['validate'](_0x53ecb0[_0x2cec4f]);if(_0x5dc6e9){_0x5dc6e9[_0x45f67d(0xa1)]=_0x5dc6e9['message']['replace'](_0x45f67d(0xc9),_0x2cec4f);throw boom_1[_0x45f67d(0xa0)]['badRequest'](_0x5dc6e9[_0x45f67d(0xa1)]);}const _0x14ceb7=Buffer[_0x45f67d(0xad)](_0x53ecb0[_0x2cec4f],_0x45f67d(0xa6))[_0x45f67d(0xbd)](_0x45f67d(0xa7));_0x53ecb0[_0x2cec4f]=_0x14ceb7;}return _0x53ecb0;}[a9_0x1eb080(0xc5)](_0x1c301e){var _0x1ab373;return __awaiter(this,void 0x0,void 0x0,function*(){const _0x2d7df9=a9_0x2a04;try{const _0xd4815a=Buffer[_0x2d7df9(0xad)](_0x1c301e['html'],_0x2d7df9(0xa6))[_0x2d7df9(0xbd)](_0x2d7df9(0xa7)),_0x15cdb8=this[_0x2d7df9(0xa3)]((_0x1ab373=_0x1c301e[_0x2d7df9(0xb2)])!==null&&_0x1ab373!==void 0x0?_0x1ab373:{});let _0x4241f8=handlebars_1[_0x2d7df9(0xa0)][_0x2d7df9(0xcb)](_0xd4815a,{'strict':!![]})(_0x15cdb8);const _0x44a038=yield puppeteer_1[_0x2d7df9(0xa0)][_0x2d7df9(0xa9)]({'headless':!![],'args':['--no-sandbox']}),_0x1796f9=yield _0x44a038[_0x2d7df9(0xc8)]();yield _0x1796f9['setJavaScriptEnabled'](![]),yield _0x1796f9[_0x2d7df9(0xa2)](_0x4241f8);const _0x80934b=this[_0x2d7df9(0x9a)](_0x1c301e);return yield _0x1796f9[_0x2d7df9(0xba)](_0x80934b[_0x2d7df9(0xac)]),yield _0x44a038[_0x2d7df9(0x95)](),this[_0x2d7df9(0x96)](_0x80934b[_0x2d7df9(0xb9)]);}catch(_0x79c1b8){throw boom_1[_0x2d7df9(0xa0)][_0x2d7df9(0xbc)](_0x79c1b8[_0x2d7df9(0xa1)]);}});}[a9_0x1eb080(0x97)](_0x40aa4a){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x141cb5=a9_0x2a04;try{_0x40aa4a=_0x40aa4a+'.'+ConverterService[_0x141cb5(0x93)];const _0xf156ac=''+ConverterService[_0x141cb5(0xae)],_0x5de940=yield fs_1[_0x141cb5(0xcc)]['readdir'](_0xf156ac),_0x25f185=_0x5de940[_0x141cb5(0x97)](_0x1623cc=>_0x1623cc===_0x40aa4a);if(!_0x25f185)throw'';const _0x4c7dbd=_0xf156ac+'/'+_0x40aa4a,_0x3836e6=yield fs_1['promises'][_0x141cb5(0xb5)](_0x4c7dbd)[_0x141cb5(0xc4)](_0x5e241c=>{throw'';});return fs_1[_0x141cb5(0xcc)]['unlink'](_0x4c7dbd),_0x3836e6;}catch(_0x3c5355){throw boom_1[_0x141cb5(0xa0)][_0x141cb5(0x9e)](_0x141cb5(0xb0));}});}}exports[a9_0x1eb080(0xc6)]=ConverterService,ConverterService[a9_0x1eb080(0xae)]=__dirname+a9_0x1eb080(0x9b),ConverterService[a9_0x1eb080(0xc2)]='converter',ConverterService['extension']=a9_0x1eb080(0xba);function a9_0x2a04(_0x1943ea,_0x328c9d){const _0x4b0e7d=a9_0x4b0e();return a9_0x2a04=function(_0x2a04a8,_0x2cc683){_0x2a04a8=_0x2a04a8-0x93;let _0x26b903=_0x4b0e7d[_0x2a04a8];return _0x26b903;},a9_0x2a04(_0x1943ea,_0x328c9d);}function a9_0x4b0e(){const _0x9ed0a2=['next','filename','pdf','__awaiter','badRequest','toString','__importDefault','uuid','../config','puppeteer','route','293904UhIpAo','catch','convert','ConverterService','1194606iIRvrK','newPage','value','then','compile','promises','3231PuWSSV','extension','?file=','close','generateMetadata','find','1453896MmVpbI','host','generateDataCreate','/../pdf','done','785xEcgSZ','notFound','10956ItWRoC','default','message','setContent','generateReplaceData','throw','2eJHZIj','base64','utf8','1242020diJDjd','launch','15490RihbOn','string','config','from','folder','joi','File\x20not\x20found','not','replace','keys','__esModule','readFile','handlebars','53601UfSaXF'];a9_0x4b0e=function(){return _0x9ed0a2;};return a9_0x4b0e();}
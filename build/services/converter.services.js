'use strict';const a9_0x1c59b8=a9_0x42ca;(function(_0x1e38ee,_0x35f74e){const _0x321ad7=a9_0x42ca,_0x29684d=_0x1e38ee();while(!![]){try{const _0x3fff2b=-parseInt(_0x321ad7(0x98))/0x1*(-parseInt(_0x321ad7(0xa2))/0x2)+-parseInt(_0x321ad7(0x9a))/0x3*(-parseInt(_0x321ad7(0xac))/0x4)+-parseInt(_0x321ad7(0x7d))/0x5*(-parseInt(_0x321ad7(0xa6))/0x6)+parseInt(_0x321ad7(0x80))/0x7+parseInt(_0x321ad7(0xa7))/0x8*(parseInt(_0x321ad7(0x95))/0x9)+parseInt(_0x321ad7(0xb3))/0xa+-parseInt(_0x321ad7(0x8c))/0xb;if(_0x3fff2b===_0x35f74e)break;else _0x29684d['push'](_0x29684d['shift']());}catch(_0x12cd89){_0x29684d['push'](_0x29684d['shift']());}}}(a9_0x11da,0x7741b));function a9_0x11da(){const _0x34ec98=['718vrARlU','then','done','converter','1715226tejejH','12632zfwGNy','extension','__esModule','unlink','convert','1468ymClCQ','filename','generateDataCreate','ConverterService','string','catch','route','6406880KUBOmp','config','__awaiter','generateReplaceData','find','newPage','throw','10TBDYBt','from','joi','957411otuhfT','puppeteer','readdir','promises','handlebars','setJavaScriptEnabled','defineProperty','close','replace','toString','value','../config','26015033moLKnb','next','message','launch','badRequest','pdf','/../pdf','--no-sandbox','apply','5283QFelBA','keys','generateMetadata','1500cyZvVn','File\x20not\x20found','318eQgrib','not','utf8','validate','?file=','folder','base64','default'];a9_0x11da=function(){return _0x34ec98;};return a9_0x11da();}var __awaiter=this&&this[a9_0x1c59b8(0xb5)]||function(_0x359f20,_0xa3b2e4,_0x4ec72b,_0xda2a71){function _0x21c5e8(_0x1ee981){return _0x1ee981 instanceof _0x4ec72b?_0x1ee981:new _0x4ec72b(function(_0x1d627a){_0x1d627a(_0x1ee981);});}return new(_0x4ec72b||(_0x4ec72b=Promise))(function(_0x25cc27,_0x4e6e29){const _0x57c1ba=a9_0x42ca;function _0x467935(_0x264f9c){const _0x4b56ce=a9_0x42ca;try{_0x12f661(_0xda2a71[_0x4b56ce(0x8d)](_0x264f9c));}catch(_0x482bc3){_0x4e6e29(_0x482bc3);}}function _0xa58e0a(_0x59a6d9){const _0x1d8677=a9_0x42ca;try{_0x12f661(_0xda2a71[_0x1d8677(0xb9)](_0x59a6d9));}catch(_0x43a376){_0x4e6e29(_0x43a376);}}function _0x12f661(_0x21c68d){const _0x36622f=a9_0x42ca;_0x21c68d[_0x36622f(0xa4)]?_0x25cc27(_0x21c68d['value']):_0x21c5e8(_0x21c68d[_0x36622f(0x8a)])[_0x36622f(0xa3)](_0x467935,_0xa58e0a);}_0x12f661((_0xda2a71=_0xda2a71[_0x57c1ba(0x94)](_0x359f20,_0xa3b2e4||[]))[_0x57c1ba(0x8d)]());});},__importDefault=this&&this['__importDefault']||function(_0x5a5b4b){return _0x5a5b4b&&_0x5a5b4b['__esModule']?_0x5a5b4b:{'default':_0x5a5b4b};};Object[a9_0x1c59b8(0x86)](exports,a9_0x1c59b8(0xa9),{'value':!![]}),exports[a9_0x1c59b8(0xaf)]=void 0x0;function a9_0x42ca(_0x20879a,_0x47506c){const _0x11da08=a9_0x11da();return a9_0x42ca=function(_0x42caef,_0x289c14){_0x42caef=_0x42caef-0x7d;let _0x64b980=_0x11da08[_0x42caef];return _0x64b980;},a9_0x42ca(_0x20879a,_0x47506c);}const handlebars_1=__importDefault(require(a9_0x1c59b8(0x84))),boom_1=__importDefault(require('@hapi/boom')),puppeteer_1=__importDefault(require(a9_0x1c59b8(0x81))),fs_1=require('fs'),config_1=require(a9_0x1c59b8(0x8b)),uuid_1=require('uuid'),joi_1=__importDefault(require(a9_0x1c59b8(0x7f)));class ConverterService{constructor(){}[a9_0x1c59b8(0xae)](_0x1a5ae1){const _0x115409=a9_0x1c59b8;let {format:_0x2850b2,width:_0x3714fe,height:_0x19005b,margin:_0x5308d5}=_0x1a5ae1;const _0x24e994=''+(0x0,uuid_1['v4'])();return{'config':{'path':ConverterService[_0x115409(0x9f)]+'/'+_0x24e994+'.'+ConverterService[_0x115409(0xa8)],'printBackground':!![],'format':_0x2850b2,'width':_0x3714fe,'height':_0x19005b,'margin':_0x5308d5},'filename':_0x24e994};}[a9_0x1c59b8(0x97)](_0x550561){const _0x510699=a9_0x1c59b8;return{'url':config_1[_0x510699(0xb4)]['host']+'/'+ConverterService['route']+_0x510699(0x9e)+_0x550561,'filename':_0x550561};}[a9_0x1c59b8(0xb6)](_0x6f848){const _0x3b9495=a9_0x1c59b8,_0x45806b=Object[_0x3b9495(0x96)](_0x6f848!==null&&_0x6f848!==void 0x0?_0x6f848:{});for(let _0x1cbf23 of _0x45806b){const {error:_0x58b25b}=joi_1['default'][_0x3b9495(0xb0)]()[_0x3b9495(0x9b)]('')[_0x3b9495(0xa0)]()[_0x3b9495(0x9d)](_0x6f848[_0x1cbf23]);if(_0x58b25b){_0x58b25b[_0x3b9495(0x8e)]=_0x58b25b[_0x3b9495(0x8e)][_0x3b9495(0x88)](_0x3b9495(0x8a),_0x1cbf23);throw boom_1[_0x3b9495(0xa1)][_0x3b9495(0x90)](_0x58b25b[_0x3b9495(0x8e)]);}const _0x2001fe=Buffer[_0x3b9495(0x7e)](_0x6f848[_0x1cbf23],_0x3b9495(0xa0))[_0x3b9495(0x89)](_0x3b9495(0x9c));_0x6f848[_0x1cbf23]=_0x2001fe;}return _0x6f848;}[a9_0x1c59b8(0xab)](_0x24486e){var _0x22c1e5;return __awaiter(this,void 0x0,void 0x0,function*(){const _0x22dca0=a9_0x42ca;try{const _0x210a86=Buffer['from'](_0x24486e['html'],_0x22dca0(0xa0))[_0x22dca0(0x89)](_0x22dca0(0x9c)),_0x2e0e34=this[_0x22dca0(0xb6)]((_0x22c1e5=_0x24486e['replace'])!==null&&_0x22c1e5!==void 0x0?_0x22c1e5:{});let _0x50f6ee=handlebars_1['default']['compile'](_0x210a86,{'strict':!![]})(_0x2e0e34);const _0x24d297=yield puppeteer_1[_0x22dca0(0xa1)][_0x22dca0(0x8f)]({'headless':!![],'args':[_0x22dca0(0x93)]}),_0x1edae1=yield _0x24d297[_0x22dca0(0xb8)]();yield _0x1edae1[_0x22dca0(0x85)](![]),yield _0x1edae1['setContent'](_0x50f6ee);const _0x193c8b=this[_0x22dca0(0xae)](_0x24486e);return yield _0x1edae1[_0x22dca0(0x91)](_0x193c8b[_0x22dca0(0xb4)]),yield _0x24d297[_0x22dca0(0x87)](),this[_0x22dca0(0x97)](_0x193c8b[_0x22dca0(0xad)]);}catch(_0x119cec){throw boom_1[_0x22dca0(0xa1)][_0x22dca0(0x90)](_0x119cec[_0x22dca0(0x8e)]);}});}[a9_0x1c59b8(0xb7)](_0x54f62){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x1b918e=a9_0x42ca;try{_0x54f62=_0x54f62+'.'+ConverterService[_0x1b918e(0xa8)];const _0x5acfad=''+ConverterService['folder'],_0x21f0a2=yield fs_1[_0x1b918e(0x83)][_0x1b918e(0x82)](_0x5acfad),_0x201465=_0x21f0a2['find'](_0x2f85df=>_0x2f85df===_0x54f62);if(!_0x201465)throw'';const _0x24a486=_0x5acfad+'/'+_0x54f62,_0x5ceb15=yield fs_1[_0x1b918e(0x83)]['readFile'](_0x24a486)[_0x1b918e(0xb1)](_0x22ab97=>{throw'';});return fs_1[_0x1b918e(0x83)][_0x1b918e(0xaa)](_0x24a486),_0x5ceb15;}catch(_0x4ec27d){throw boom_1['default']['notFound'](_0x1b918e(0x99));}});}}exports[a9_0x1c59b8(0xaf)]=ConverterService,ConverterService[a9_0x1c59b8(0x9f)]=__dirname+a9_0x1c59b8(0x92),ConverterService[a9_0x1c59b8(0xb2)]=a9_0x1c59b8(0xa5),ConverterService[a9_0x1c59b8(0xa8)]=a9_0x1c59b8(0x91);
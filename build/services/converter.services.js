'use strict';const a9_0x585efb=a9_0x11da;(function(_0x2477b3,_0x17b817){const _0x1e5cac=a9_0x11da,_0x221391=_0x2477b3();while(!![]){try{const _0x2abbc3=-parseInt(_0x1e5cac(0xd3))/0x1+-parseInt(_0x1e5cac(0xf1))/0x2*(parseInt(_0x1e5cac(0xf7))/0x3)+parseInt(_0x1e5cac(0xd5))/0x4+-parseInt(_0x1e5cac(0xd7))/0x5*(-parseInt(_0x1e5cac(0xf9))/0x6)+-parseInt(_0x1e5cac(0xe7))/0x7+-parseInt(_0x1e5cac(0xd0))/0x8*(parseInt(_0x1e5cac(0xe4))/0x9)+-parseInt(_0x1e5cac(0xda))/0xa*(-parseInt(_0x1e5cac(0xe2))/0xb);if(_0x2abbc3===_0x17b817)break;else _0x221391['push'](_0x221391['shift']());}catch(_0x3cedab){_0x221391['push'](_0x221391['shift']());}}}(a9_0xafb2,0x77198));function a9_0xafb2(){const _0x35bca9=['handlebars','host','next','155954omFnQp','notFound','default','catch','toString','generateDataCreate','27FppSRW','html','594hqoBhF','base64','extension','close','utf8','../config','string','from','done','pdf','joi','then','not','/../pdf','File\x20not\x20found','replace','converter','7098072lmHvGa','generateReplaceData','__importDefault','21705fYDnDt','--no-sandbox','868936RPjaKy','value','13315elTRQp','compile','badRequest','309930PYLitE','readFile','defineProperty','__esModule','folder','find','message','__awaiter','759rKQtEz','setJavaScriptEnabled','9srKqIn','?file=','route','3645593kJCjBY','setContent','config','generateMetadata','ConverterService','promises','uuid'];a9_0xafb2=function(){return _0x35bca9;};return a9_0xafb2();}var __awaiter=this&&this[a9_0x585efb(0xe1)]||function(_0x29b12d,_0x7b2374,_0x37c660,_0x1119de){function _0x28c8fc(_0xbbb0dd){return _0xbbb0dd instanceof _0x37c660?_0xbbb0dd:new _0x37c660(function(_0x31e1a1){_0x31e1a1(_0xbbb0dd);});}return new(_0x37c660||(_0x37c660=Promise))(function(_0x3729ea,_0x30ff13){const _0x29ce75=a9_0x11da;function _0x542793(_0x458f63){try{_0x4e75de(_0x1119de['next'](_0x458f63));}catch(_0x3ad3e2){_0x30ff13(_0x3ad3e2);}}function _0x445fbd(_0x1cd470){try{_0x4e75de(_0x1119de['throw'](_0x1cd470));}catch(_0x19ce36){_0x30ff13(_0x19ce36);}}function _0x4e75de(_0x314c01){const _0x2c9282=a9_0x11da;_0x314c01[_0x2c9282(0x101)]?_0x3729ea(_0x314c01[_0x2c9282(0xd6)]):_0x28c8fc(_0x314c01[_0x2c9282(0xd6)])[_0x2c9282(0x104)](_0x542793,_0x445fbd);}_0x4e75de((_0x1119de=_0x1119de['apply'](_0x29b12d,_0x7b2374||[]))[_0x29ce75(0xf0)]());});},__importDefault=this&&this[a9_0x585efb(0xd2)]||function(_0x5752c3){const _0xc8ddb7=a9_0x585efb;return _0x5752c3&&_0x5752c3[_0xc8ddb7(0xdd)]?_0x5752c3:{'default':_0x5752c3};};Object[a9_0x585efb(0xdc)](exports,a9_0x585efb(0xdd),{'value':!![]}),exports[a9_0x585efb(0xeb)]=void 0x0;function a9_0x11da(_0x4fd1fd,_0x54152e){const _0xafb289=a9_0xafb2();return a9_0x11da=function(_0x11daba,_0x143b8d){_0x11daba=_0x11daba-0xce;let _0x233b15=_0xafb289[_0x11daba];return _0x233b15;},a9_0x11da(_0x4fd1fd,_0x54152e);}const handlebars_1=__importDefault(require(a9_0x585efb(0xee))),boom_1=__importDefault(require('@hapi/boom')),puppeteer_1=__importDefault(require('puppeteer')),fs_1=require('fs'),config_1=require(a9_0x585efb(0xfe)),uuid_1=require(a9_0x585efb(0xed)),joi_1=__importDefault(require(a9_0x585efb(0x103)));class ConverterService{constructor(){}[a9_0x585efb(0xf6)](_0x517963){const _0x238da2=a9_0x585efb;let {format:_0x395f89,width:_0xefdf4,height:_0x2b389b,margin:_0x403ddf}=_0x517963;const _0x3bd9ed=''+(0x0,uuid_1['v4'])();return{'config':{'path':ConverterService[_0x238da2(0xde)]+'/'+_0x3bd9ed+'.'+ConverterService[_0x238da2(0xfb)],'printBackground':!![],'format':_0x395f89,'width':_0xefdf4,'height':_0x2b389b,'margin':_0x403ddf},'filename':_0x3bd9ed};}['generateMetadata'](_0x2d37bb){const _0x53a46d=a9_0x585efb;return{'url':config_1[_0x53a46d(0xe9)][_0x53a46d(0xef)]+'/'+ConverterService[_0x53a46d(0xe6)]+_0x53a46d(0xe5)+_0x2d37bb,'filename':_0x2d37bb};}[a9_0x585efb(0xd1)](_0x9b69f5){const _0x30a38f=a9_0x585efb,_0x19bf88=Object['keys'](_0x9b69f5!==null&&_0x9b69f5!==void 0x0?_0x9b69f5:{});for(let _0x3539fe of _0x19bf88){const {error:_0x572372}=joi_1[_0x30a38f(0xf3)][_0x30a38f(0xff)]()[_0x30a38f(0x105)]('')['base64']()['validate'](_0x9b69f5[_0x3539fe]);if(_0x572372){_0x572372[_0x30a38f(0xe0)]=_0x572372[_0x30a38f(0xe0)]['replace'](_0x30a38f(0xd6),_0x3539fe);throw boom_1[_0x30a38f(0xf3)][_0x30a38f(0xd9)](_0x572372[_0x30a38f(0xe0)]);}const _0x5b7a89=Buffer[_0x30a38f(0x100)](_0x9b69f5[_0x3539fe],_0x30a38f(0xfa))[_0x30a38f(0xf5)](_0x30a38f(0xfd));_0x9b69f5[_0x3539fe]=_0x5b7a89;}return _0x9b69f5;}['convert'](_0x523b67){var _0x269eb6;return __awaiter(this,void 0x0,void 0x0,function*(){const _0x3018b7=a9_0x11da;try{const _0x59bca8=Buffer[_0x3018b7(0x100)](_0x523b67[_0x3018b7(0xf8)],'base64')[_0x3018b7(0xf5)](_0x3018b7(0xfd)),_0x40771d=this[_0x3018b7(0xd1)]((_0x269eb6=_0x523b67[_0x3018b7(0xce)])!==null&&_0x269eb6!==void 0x0?_0x269eb6:{});let _0x23b342=handlebars_1[_0x3018b7(0xf3)][_0x3018b7(0xd8)](_0x59bca8,{'strict':!![]})(_0x40771d);const _0x41f9fc=yield puppeteer_1[_0x3018b7(0xf3)]['launch']({'headless':!![],'args':[_0x3018b7(0xd4)]}),_0x83ecd8=yield _0x41f9fc['newPage']();yield _0x83ecd8[_0x3018b7(0xe3)](![]),yield _0x83ecd8[_0x3018b7(0xe8)](_0x23b342);const _0x223863=this[_0x3018b7(0xf6)](_0x523b67);return yield _0x83ecd8[_0x3018b7(0x102)](_0x223863['config']),yield _0x41f9fc[_0x3018b7(0xfc)](),this[_0x3018b7(0xea)](_0x223863['filename']);}catch(_0x4c134a){throw boom_1[_0x3018b7(0xf3)][_0x3018b7(0xd9)](_0x4c134a[_0x3018b7(0xe0)]);}});}[a9_0x585efb(0xdf)](_0x5c466){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x461f6d=a9_0x11da;try{_0x5c466=_0x5c466+'.'+ConverterService[_0x461f6d(0xfb)];const _0x7b44d=''+ConverterService['folder'],_0x35d3c6=yield fs_1[_0x461f6d(0xec)]['readdir'](_0x7b44d),_0x46546c=_0x35d3c6[_0x461f6d(0xdf)](_0x268af5=>_0x268af5===_0x5c466);if(!_0x46546c)throw'';const _0xd0bb3f=_0x7b44d+'/'+_0x5c466,_0x48d086=yield fs_1[_0x461f6d(0xec)][_0x461f6d(0xdb)](_0xd0bb3f)[_0x461f6d(0xf4)](_0x3f9404=>{throw'';});return fs_1[_0x461f6d(0xec)]['unlink'](_0xd0bb3f),_0x48d086;}catch(_0x355387){throw boom_1['default'][_0x461f6d(0xf2)](_0x461f6d(0x107));}});}}exports[a9_0x585efb(0xeb)]=ConverterService,ConverterService[a9_0x585efb(0xde)]=__dirname+a9_0x585efb(0x106),ConverterService['route']=a9_0x585efb(0xcf),ConverterService[a9_0x585efb(0xfb)]=a9_0x585efb(0x102);
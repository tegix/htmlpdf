'use strict';const a9_0x37208c=a9_0x1f37;function a9_0xae7a(){const _0x40a035=['promises','5123560SpvPvy','ConverterService','html','toString','default','from','converter','filename','generateDataCreate','defineProperty','newPage','puppeteer','14qMIuSZ','__importDefault','base64','33vwMChl','find','keys','3653152AueNDT','?file=','setJavaScriptEnabled','config','notFound','--no-sandbox','message','338STJtQD','utf8','apply','host','readFile','12LOQacw','@hapi/boom','152330uYZZHc','generateMetadata','1459215sXIJsh','__esModule','unlink','validate','1368245yGCnTg','handlebars','915ZtWInI','convert','pdf','folder','route','done','../config','extension','value','setContent','next','4byvbfc','generateReplaceData','3284DLcedh','196584MkJHwf','launch'];a9_0xae7a=function(){return _0x40a035;};return a9_0xae7a();}(function(_0x2698de,_0x55586a){const _0x479ba6=a9_0x1f37,_0x2e85c1=_0x2698de();while(!![]){try{const _0xfa8bac=parseInt(_0x479ba6(0x91))/0x1*(-parseInt(_0x479ba6(0x7e))/0x2)+-parseInt(_0x479ba6(0x86))/0x3*(-parseInt(_0x479ba6(0x93))/0x4)+-parseInt(_0x479ba6(0x84))/0x5*(-parseInt(_0x479ba6(0x7c))/0x6)+-parseInt(_0x479ba6(0xa3))/0x7*(parseInt(_0x479ba6(0xa9))/0x8)+parseInt(_0x479ba6(0x80))/0x9+-parseInt(_0x479ba6(0x97))/0xa*(-parseInt(_0x479ba6(0xa6))/0xb)+-parseInt(_0x479ba6(0x94))/0xc*(parseInt(_0x479ba6(0xb0))/0xd);if(_0xfa8bac===_0x55586a)break;else _0x2e85c1['push'](_0x2e85c1['shift']());}catch(_0x238485){_0x2e85c1['push'](_0x2e85c1['shift']());}}}(a9_0xae7a,0xd0422));var __awaiter=this&&this['__awaiter']||function(_0xb852d6,_0x815bb7,_0x84f068,_0x34021a){function _0x12caa7(_0x2c67d8){return _0x2c67d8 instanceof _0x84f068?_0x2c67d8:new _0x84f068(function(_0x5109bf){_0x5109bf(_0x2c67d8);});}return new(_0x84f068||(_0x84f068=Promise))(function(_0x991ca8,_0x23cea0){const _0x33db4c=a9_0x1f37;function _0x1bfcac(_0x425350){const _0x2569cc=a9_0x1f37;try{_0xe2290f(_0x34021a[_0x2569cc(0x90)](_0x425350));}catch(_0x16d045){_0x23cea0(_0x16d045);}}function _0x30f3e4(_0x5b7d85){try{_0xe2290f(_0x34021a['throw'](_0x5b7d85));}catch(_0x1949d1){_0x23cea0(_0x1949d1);}}function _0xe2290f(_0xb41998){const _0x2e86f4=a9_0x1f37;_0xb41998[_0x2e86f4(0x8b)]?_0x991ca8(_0xb41998[_0x2e86f4(0x8e)]):_0x12caa7(_0xb41998['value'])['then'](_0x1bfcac,_0x30f3e4);}_0xe2290f((_0x34021a=_0x34021a[_0x33db4c(0x79)](_0xb852d6,_0x815bb7||[]))[_0x33db4c(0x90)]());});},__importDefault=this&&this[a9_0x37208c(0xa4)]||function(_0x15c00b){const _0x2a98f5=a9_0x37208c;return _0x15c00b&&_0x15c00b[_0x2a98f5(0x81)]?_0x15c00b:{'default':_0x15c00b};};Object[a9_0x37208c(0xa0)](exports,a9_0x37208c(0x81),{'value':!![]}),exports[a9_0x37208c(0x98)]=void 0x0;const handlebars_1=__importDefault(require(a9_0x37208c(0x85))),boom_1=__importDefault(require(a9_0x37208c(0x7d))),puppeteer_1=__importDefault(require(a9_0x37208c(0xa2))),fs_1=require('fs'),config_1=require(a9_0x37208c(0x8c)),uuid_1=require('uuid'),joi_1=__importDefault(require('joi'));class ConverterService{constructor(){}[a9_0x37208c(0x9f)](_0x12069f){const _0x8c17cd=a9_0x37208c;let {format:_0x559143,width:_0x419d5d,height:_0x483315,margin:_0x52d62c}=_0x12069f;const _0x8273c7=''+(0x0,uuid_1['v4'])();return{'config':{'path':ConverterService[_0x8c17cd(0x89)]+'/'+_0x8273c7+'.'+ConverterService[_0x8c17cd(0x8d)],'printBackground':!![],'format':_0x559143,'width':_0x419d5d,'height':_0x483315,'margin':_0x52d62c},'filename':_0x8273c7};}['generateMetadata'](_0xa4c8af){const _0x62504e=a9_0x37208c;return{'url':config_1['config'][_0x62504e(0x7a)]+'/'+ConverterService[_0x62504e(0x8a)]+_0x62504e(0xaa)+_0xa4c8af,'filename':_0xa4c8af};}[a9_0x37208c(0x92)](_0x2d5122){const _0x4df590=a9_0x37208c,_0x5b00c3=Object[_0x4df590(0xa8)](_0x2d5122!==null&&_0x2d5122!==void 0x0?_0x2d5122:{});for(let _0x975a5b of _0x5b00c3){const {error:_0x399421}=joi_1[_0x4df590(0x9b)]['string']()['not']('')[_0x4df590(0xa5)]()[_0x4df590(0x83)](_0x2d5122[_0x975a5b]);if(_0x399421){_0x399421[_0x4df590(0xaf)]=_0x399421['message']['replace'](_0x4df590(0x8e),_0x975a5b);throw boom_1[_0x4df590(0x9b)]['badRequest'](_0x399421[_0x4df590(0xaf)]);}const _0x4c6285=Buffer[_0x4df590(0x9c)](_0x2d5122[_0x975a5b],_0x4df590(0xa5))['toString'](_0x4df590(0xb1));_0x2d5122[_0x975a5b]=_0x4c6285;}return _0x2d5122;}[a9_0x37208c(0x87)](_0x4c053a){var _0x8af8ab;return __awaiter(this,void 0x0,void 0x0,function*(){const _0x2a1fdd=a9_0x1f37;try{const _0x4f0250=Buffer[_0x2a1fdd(0x9c)](_0x4c053a[_0x2a1fdd(0x99)],_0x2a1fdd(0xa5))[_0x2a1fdd(0x9a)](_0x2a1fdd(0xb1)),_0x398cd5=this[_0x2a1fdd(0x92)]((_0x8af8ab=_0x4c053a['replace'])!==null&&_0x8af8ab!==void 0x0?_0x8af8ab:{});let _0x13d00f=handlebars_1[_0x2a1fdd(0x9b)]['compile'](_0x4f0250,{'strict':!![]})(_0x398cd5);const _0x4998ab=yield puppeteer_1[_0x2a1fdd(0x9b)][_0x2a1fdd(0x95)]({'headless':![],'args':[_0x2a1fdd(0xae)]}),_0xdc950d=yield _0x4998ab[_0x2a1fdd(0xa1)]();yield _0xdc950d[_0x2a1fdd(0xab)](![]),yield _0xdc950d[_0x2a1fdd(0x8f)](_0x13d00f);const _0x51cca4=this[_0x2a1fdd(0x9f)](_0x4c053a);return yield _0xdc950d[_0x2a1fdd(0x88)](_0x51cca4[_0x2a1fdd(0xac)]),yield _0x4998ab['close'](),this[_0x2a1fdd(0x7f)](_0x51cca4[_0x2a1fdd(0x9e)]);}catch(_0xb83d6a){throw boom_1[_0x2a1fdd(0x9b)]['badRequest'](_0xb83d6a['message']);}});}[a9_0x37208c(0xa7)](_0x5b47a8){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x4122d1=a9_0x1f37;try{_0x5b47a8=_0x5b47a8+'.'+ConverterService[_0x4122d1(0x8d)];const _0x5e8b7a=''+ConverterService['folder'],_0x1552dd=yield fs_1[_0x4122d1(0x96)]['readdir'](_0x5e8b7a),_0x1d43f9=_0x1552dd['find'](_0x3d2c67=>_0x3d2c67===_0x5b47a8);if(!_0x1d43f9)throw'';const _0x52ba72=_0x5e8b7a+'/'+_0x5b47a8,_0x374ba9=yield fs_1[_0x4122d1(0x96)][_0x4122d1(0x7b)](_0x52ba72)['catch'](_0x7f12b3=>{throw'';});return fs_1['promises'][_0x4122d1(0x82)](_0x52ba72),_0x374ba9;}catch(_0x569186){throw boom_1['default'][_0x4122d1(0xad)]('File\x20not\x20found');}});}}function a9_0x1f37(_0x4c1d4d,_0x40bbfd){const _0xae7a58=a9_0xae7a();return a9_0x1f37=function(_0x1f377a,_0x378f2c){_0x1f377a=_0x1f377a-0x79;let _0x48bfca=_0xae7a58[_0x1f377a];return _0x48bfca;},a9_0x1f37(_0x4c1d4d,_0x40bbfd);}exports[a9_0x37208c(0x98)]=ConverterService,ConverterService['folder']=__dirname+'/../pdf',ConverterService[a9_0x37208c(0x8a)]=a9_0x37208c(0x9d),ConverterService['extension']='pdf';